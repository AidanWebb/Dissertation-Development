<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Page - Secure GPG Messenger </title>
    <link rel="stylesheet" href="{{ url_for('static', filename='login.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='chat_page.css') }}">
</head>

<body>
    <header>
        <h1>Welcome Back {{ user.username }}!</h1>
        <button  onclick="location.href='{{ url_for('website.home') }}';" style="cursor:pointer;" class="logout-button" >Logout</button>
        <button id="addButton">Add Friend</button>
    <!-- Search bar (initially hidden) -->
            <div id="friendBar" style="display: none;">
                <input type="text" id="userInput" placeholder="Insert friend's username...">
                <button id="userAddButton">Add</button>
            </div>
    </header>
    <div class="container">
        <!-- Sidebar for User List -->
        <div class="sidebar">
            <!-- User List -->
            <div class="user-list">
                {% for friend in user.friends %}
                    <div class="user" data-username={{ friend }}>{{ friend }}</div>
                {% endfor %}
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="main-chat">
            <div class = "chat-header">

            </div>
            <div class="chat-logs" id = "chatLogs">
                <!-- Individual chat messages go here -->
            </div>

            <!-- Chat Box -->
            <div class="chat-box">
                <textarea id="messageInput" placeholder="Type your message..."></textarea>
                <button class="send-button" onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="/static/scripts/addFriend.js"></script>
</html>
